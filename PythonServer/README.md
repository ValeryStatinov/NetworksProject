# Client server communication

### Server receives
* Подключение к существующей игрой сессии по id игры
    ```
    {
        command: 'join',
        game_id: id
    }
    ```
* Создание новой игры 
    ```
    {
        command: 'create_game',
        name: string
    }
    ```
* Готовность начать игру
    ```
    {
        command: 'ready_to_start'
    }
---

### Servers sends
* При подключении пользователь попадает в комнату ожидания
Там он получает по тику список доступных игр
    ```
    [
        {
            game_id: int,
            name: string,
            empty_slots: int,
            max_slots: int
        },
        ...
    ]
    ```
* При подключении к игре пользователь получает список по тику
    ```
    {
       empty_slots: int,
       max_slots: int,
       ready: int  
    }
    ```
* В любой момент пользователь может отправлять любую команду. Если она
недоступна ему в данный момент(например прислал leave находясь в
комнате выбора игры), то ничего не произойдет,
т.е. есть защита от дурака.

* Сервер логгирует свои глобальные действия, вроде создания новых
игровых сессий, подключений и отключений пользователей и так далее.
    

 